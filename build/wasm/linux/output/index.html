<!DOCTYPE html>
<body>

    <div>
        <div style="float: left;padding-right: 2pt">Version:</div>
        <div id="version"></div>
    </div>
    <div>
        <div style="float: left;padding-right: 2pt">Delegates:</div>
        <div id="delegates"></div>
    </div>

    <script type="text/javascript" src="magick-Q8.js"></script>
    <script type="text/javascript">

        function getString(offset)
        {
            let result = '';
            let i = offset;
            while (Module.HEAP8[i] != 0)
            {
                result += String.fromCharCode(Module.HEAP8[i++]);
            }

            return result;
        }
        
        Module.onRuntimeInitialized = function()
        {
            console.log(Module);
            const version = document.getElementById('version');
            version.innerText = getString(Module._MagickNET_ImageMagickVersion_Get());
            delegates.innerText = getString(Module._MagickNET_Delegates_Get());
        }

    </script>
</body>
